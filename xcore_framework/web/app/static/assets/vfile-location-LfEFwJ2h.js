function m(c){const t=String(c),e=[];return{toOffset:s,toPoint:i};function i(n){if(typeof n=="number"&&n>-1&&n<=t.length){let l=0;for(;;){let r=e[l];if(r===void 0){const u=f(t,e[l-1]);r=u===-1?t.length+1:u+1,e[l]=r}if(r>n)return{line:l+1,column:n-(l>0?e[l-1]:0)+1,offset:n};l++}}}function s(n){if(n&&typeof n.line=="number"&&typeof n.column=="number"&&!Number.isNaN(n.line)&&!Number.isNaN(n.column)){for(;e.length<n.line;){const r=e[e.length-1],u=f(t,r),o=u===-1?t.length+1:u+1;if(r===o)break;e.push(o)}const l=(n.line>1?e[n.line-2]:0)+n.column-1;if(l<e[n.line-1])return l}}}function f(c,t){const e=c.indexOf("\r",t),i=c.indexOf(`
`,t);return i===-1?e:e===-1||e+1===i?i:e<i?e:i}export{m as l};
