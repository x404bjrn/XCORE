import{u as b}from"./devlop-Cl3hj7Sz.js";import{j as i}from"./react-BgbblwHg.js";import{u as O}from"./unified-BXF661LP.js";import{r as v}from"./remark-parse-C8jcMe6G.js";import{r as P}from"./remark-rehype-CVgNlTY5.js";import{V as x}from"./vfile-tbz-BywF.js";import{v as E}from"./unist-util-visit-DGoE-dKL.js";import{t as j}from"./hast-util-to-jsx-runtime-DLvgZj2o.js";import{u as c}from"./html-url-attributes-D46m5wfe.js";const R="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",f=[],p={allowDangerousHtml:!0},T=/^(https?|ircs?|mailto|xmpp)$/i,N=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $(r){const e=H(r),s=S(r);return D(e.runSync(e.parse(s),s),r)}function H(r){const e=r.rehypePlugins||f,s=r.remarkPlugins||f,l=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...p}:p;return O().use(v).use(s).use(P,l).use(e)}function S(r){const e=r.children||"",s=new x;return typeof e=="string"&&(s.value=e),s}function D(r,e){const s=e.allowedElements,l=e.allowElement,a=e.components,u=e.disallowedElements,g=e.skipHtml,w=e.unwrapDisallowed,h=e.urlTransform||F;for(const o of N)Object.hasOwn(e,o.from)&&b("Unexpected `"+o.from+"` prop, "+(o.to?"use `"+o.to+"` instead":"remove it")+" (see <"+R+"#"+o.id+"> for more info)");return E(r,y),j(r,{Fragment:i.Fragment,components:a,ignoreInvalidStyle:!0,jsx:i.jsx,jsxs:i.jsxs,passKeys:!0,passNode:!0});function y(o,n,m){if(o.type==="raw"&&m&&typeof n=="number")return g?m.children.splice(n,1):m.children[n]={type:"text",value:o.value},n;if(o.type==="element"){let t;for(t in c)if(Object.hasOwn(c,t)&&Object.hasOwn(o.properties,t)){const k=o.properties[t],d=c[t];(d===null||d.includes(o.tagName))&&(o.properties[t]=h(String(k||""),t,o))}}if(o.type==="element"){let t=s?!s.includes(o.tagName):u?u.includes(o.tagName):!1;if(!t&&l&&typeof n=="number"&&(t=!l(o,n,m)),t&&m&&typeof n=="number")return w&&o.children?m.children.splice(n,1,...o.children):m.children.splice(n,1),n}}}function F(r){const e=r.indexOf(":"),s=r.indexOf("?"),l=r.indexOf("#"),a=r.indexOf("/");return e===-1||a!==-1&&e>a||s!==-1&&e>s||l!==-1&&e>l||T.test(r.slice(0,e))?r:""}export{$ as M};
